{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Manoa\\\\Desktop\\\\ionic1\\\\src\\\\pages\\\\InsertSignilement.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { IonHeader, IonPage, IonToolbar, IonTitle, IonContent, IonItem, IonLabel, IonInput, IonButton, IonMenuButton, IonSelect, IonSelectOption, IonTextarea } from \"@ionic/react\";\nimport { RemoteService } from \"../services/remote.service\";\nimport axios from 'axios';\nimport { Geolocation } from '@capacitor/geolocation'; // console.log('Current', coordinates);\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst InsertSignilement = _ref => {\n  _s();\n\n  let {\n    history\n  } = _ref;\n  const remoteService = new RemoteService();\n  const [error, setError] = useState({\n    error: false\n  });\n  const loginForm = useRef(null);\n  const [lType, setLType] = useState([]);\n  const [lon, setLon] = useState(Number);\n  const [lat, setLat] = useState(Number);\n  const geolocation = Geolocation; // console.log(lon+\"-\"+lat);\n\n  const sendGetRequest = async () => {\n    return axios({\n      url: 'http://localhost:3011/types',\n      method: 'GET'\n    }).then(Response => {\n      return Response.data;\n    }).catch(error => {\n      console.log('Error get type', error);\n    });\n  };\n\n  useEffect(() => {\n    sendGetRequest().then(data => setLType(data));\n  });\n\n  const getLocation = () => {\n    geolocation.getCurrentPosition().then(Resp => {\n      setLon(Resp.coords.longitude);\n      setLat(Resp.coords.latitude);\n      console.log(`${Resp.coords.longitude},${Resp.coords.latitude}`);\n    }).catch(error => {\n      console.log('Error getting location', error);\n    });\n    console.log(`${lon},${lat}`);\n  };\n\n  const Valider = () => {\n    // var formData = new FormData()\n    // formData.append('mail', email)\n    // formData.append('mdp', password)\n    // var url = 'http://localhost:3011/login/utilisateurs'\n    // console.log(email)\n    // fetch(url, {\n    //     method: 'POST',\n    //     body: formData,\n    // })\n    //     .then((res) => res.json())\n    //     .then((result) => {\n    //         window.location.href = '/InsertSignilement'\n    //         console.log(\"toto =\",result['token'])\n    //         sessionStorage.setItem(\"Token\",result['token'])\n    //         localStorage.setItem('Token', result['token'])\n    //     })\n    //     .catch((error) => {\n    //       console.log(error);\n    //     });\n    getLocation();\n  };\n\n  return /*#__PURE__*/_jsxDEV(IonPage, {\n    children: [/*#__PURE__*/_jsxDEV(IonHeader, {\n      children: /*#__PURE__*/_jsxDEV(IonToolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IonMenuButton, {\n          slot: \"start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonTitle, {\n          children: \"Nouveau signilement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonContent, {\n      children: [/*#__PURE__*/_jsxDEV(IonItem, {\n        children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n          position: \"floating\",\n          children: \"Object\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n          placeholder: \"\",\n          type: \"text\",\n          name: \"Object\",\n          id: \"Object\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(IonItem, {\n        children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n          position: \"floating\",\n          children: \"Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n          type: \"text\",\n          name: \"type\",\n          id: \"type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IonSelect, {\n          placeholder: \"Choisissez le type d'incidents\",\n          name: \"type\",\n          id: \"type\",\n          children: lType.map((el, index) => {\n            return /*#__PURE__*/_jsxDEV(IonSelectOption, {\n              value: el['id'],\n              children: el['nom']\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 27\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(IonItem, {\n        children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n          position: \"floating\",\n          children: \"description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IonTextarea, {\n          name: \"description\",\n          id: \"description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(IonButton, {\n          expand: \"block\",\n          onClick: () => Valider(),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}; // export default Details;\n\n\n_s(InsertSignilement, \"m5Nk5kkEq75MCaxBUyzP8ZwV0Ss=\");\n\n_c = InsertSignilement;\nexport default InsertSignilement;\n\nvar _c;\n\n$RefreshReg$(_c, \"InsertSignilement\");","map":{"version":3,"sources":["C:/Users/Manoa/Desktop/ionic1/src/pages/InsertSignilement.tsx"],"names":["React","useState","useEffect","useRef","IonHeader","IonPage","IonToolbar","IonTitle","IonContent","IonItem","IonLabel","IonInput","IonButton","IonMenuButton","IonSelect","IonSelectOption","IonTextarea","RemoteService","axios","Geolocation","InsertSignilement","history","remoteService","error","setError","loginForm","lType","setLType","lon","setLon","Number","lat","setLat","geolocation","sendGetRequest","url","method","then","Response","data","catch","console","log","getLocation","getCurrentPosition","Resp","coords","longitude","latitude","Valider","map","el","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport {\r\n  IonHeader,\r\n  IonPage,\r\n  IonToolbar,\r\n  IonTitle,\r\n  IonContent,\r\n  IonItem,\r\n  IonLabel,\r\n  IonInput,\r\n  IonButton,\r\n  IonText,\r\n  IonMenuButton,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonTextarea,\r\n} from \"@ionic/react\";\r\nimport { IUrlOptions } from \"../models/rest-api.model\";\r\nimport { RemoteService } from \"../services/remote.service\";\r\nimport { type } from \"os\";\r\nimport { Method } from \"ionicons/dist/types/stencil-public-runtime\";\r\nimport { setupMaster } from \"cluster\";\r\nimport axios  from 'axios';\r\nimport { Geolocation } from '@capacitor/geolocation';\r\n\r\n\r\n// console.log('Current', coordinates);\r\nconst InsertSignilement: React.FC = ({ history }: any) => {\r\n  const remoteService = new RemoteService();\r\n  const [error, setError] = useState({ error: false });\r\n  const loginForm = useRef<HTMLFormElement>(null);\r\n  const [lType,setLType] = useState([]);\r\n  const [lon,setLon]=useState(Number);\r\n  const [lat,setLat]=useState(Number);\r\n  const geolocation  = Geolocation;\r\n  \r\n  \r\n\r\n  // console.log(lon+\"-\"+lat);\r\n  const sendGetRequest = async () => {\r\n    return axios({\r\n      url: 'http://localhost:3011/types',\r\n      method: 'GET'\r\n    }).then(Response =>{\r\n      return Response.data;\r\n    }).catch((error) => {\r\n      console.log('Error get type', error)\r\n    })\r\n  };\r\n  useEffect(() => {\r\n    sendGetRequest().then(data => setLType(data));\r\n    \r\n  })\r\n\r\n  const getLocation = () => {\r\n    geolocation.getCurrentPosition().then((Resp) => {\r\n      setLon(Resp.coords.longitude);\r\n      setLat(Resp.coords.latitude);\r\n      console.log(`${Resp.coords.longitude},${Resp.coords.latitude}`);\r\n    }).catch((error) => {\r\n      console.log('Error getting location',error)\r\n    });\r\n    console.log(`${lon},${lat}`);\r\n  }\r\n\r\n\r\n  const Valider = () => {\r\n    // var formData = new FormData()\r\n    // formData.append('mail', email)\r\n    // formData.append('mdp', password)\r\n    // var url = 'http://localhost:3011/login/utilisateurs'\r\n    // console.log(email)\r\n    // fetch(url, {\r\n    //     method: 'POST',\r\n    //     body: formData,\r\n    // })\r\n    //     .then((res) => res.json())\r\n    //     .then((result) => {\r\n    //         window.location.href = '/InsertSignilement'\r\n    //         console.log(\"toto =\",result['token'])\r\n    //         sessionStorage.setItem(\"Token\",result['token'])\r\n    //         localStorage.setItem('Token', result['token'])\r\n\r\n    //     })\r\n    //     .catch((error) => {\r\n    //       console.log(error);\r\n    //     });\r\n\r\n    getLocation();\r\n\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <IonPage>\r\n      <IonHeader>\r\n        <IonToolbar>\r\n          <IonMenuButton slot=\"start\"></IonMenuButton>\r\n          <IonTitle>Nouveau signilement</IonTitle>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n\r\n      <IonContent>\r\n        \r\n          <IonItem>\r\n            <IonLabel position=\"floating\">Object</IonLabel>\r\n            <IonInput\r\n              placeholder=\"\"\r\n              type=\"text\"\r\n              name=\"Object\"\r\n              id=\"Object\"\r\n            ></IonInput>\r\n          </IonItem>\r\n          <IonItem>\r\n            <IonLabel position=\"floating\">Type</IonLabel>\r\n            <IonInput type=\"text\" name=\"type\" id=\"type\"></IonInput>\r\n\r\n            <IonSelect placeholder=\"Choisissez le type d'incidents\" name=\"type\" id=\"type\"  >\r\n              {\r\n                lType.map((el, index) => {\r\n                  return (<IonSelectOption value={el['id']} key={index} >{el['nom']}</IonSelectOption>);\r\n                })\r\n              }\r\n            </IonSelect>\r\n\r\n          </IonItem>\r\n         \r\n          <IonItem>\r\n            <IonLabel position=\"floating\">description</IonLabel>\r\n            <IonTextarea\r\n              name=\"description\"\r\n              id=\"description\"\r\n            ></IonTextarea>\r\n          </IonItem>\r\n          \r\n          <div className=\"button-wrapper\">\r\n          <IonButton expand=\"block\" \r\n          onClick={() => Valider()}\r\n          >\r\n                            Login\r\n          </IonButton>\r\n          </div>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\n// export default Details;\r\nexport default InsertSignilement;\r\n"]},"metadata":{},"sourceType":"module"}